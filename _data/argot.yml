# key = the argot attribute key

# type = the argot attribute type, possible options
#
# @hash - a list of key values pairs, always has children
#
# @string - a string or array of strings. String does NOT represent the solr index field type
# 
# @gvo - (general vernacular object) a special "reusable" hash consiting of the following structure
#   {
#     value: string
#     vernacular: {
#       value: string
#       lang_code: string
#     }  
#   }

# multi = true/false
#         allow multiple values (i.e., array of hashes or array of strings)

# ee = Endeca Element -- this is the Endeca Property or Dimension corresponding to the Argot element, where applicable.
#      Uses name from Endeca Config files. These are generally the same as what's in the data model spreadsheet, but not always
#      Mapping of config-to-spreadsheet element names: https://github.com/trln/data-documentation/blob/master/_endeca_final_elements_compiled.tsv

# desc = notes/descriptions

# solr = if the field has this attribute, it will be indexed in solr

# solr.type = the dynamic field type that will be assigned in solr
#
# t:        text
# tp:       text_nostem
# tl:       text_leftjustified
# e:        exactish
# i:        int
# float:    float
# double:   double
# str:      string
# f:        string (for facets)
# long:     long
# dt:       date
# isbn:     isbn
# lccn:     lccn
# num:      numericID
# pp:       pipe_delimited
# bin:      binary
# bool:     boolean
# loc:      location_rpt
# pt:       point
#

# solr.attr: "stored" and "sort" are currently the only options


###########
# IDs
###########
- key: id
  type: string
  multi: false
  solr:
    type: str
    attr:
      - stored
  ee: UniqueId
  desc: |
    Id of the document

- key: oclc_number
  type: hash
  multi: false
  desc: |
    Collection of OCLC Numbers associated with thing
  attributes:
    - key: value
      type: string
      multi: false
      solr:
        type: str
        attr:
          - stored
      ee: OCLCNumber
      desc: |
        OCLC Number
    - key: old
      type: string
      multi: true
      solr:
        type: str
        attr:
          - stored
      desc: |
        Array of old oclc numbers

- key: ead_id
  type: string
  multi: false
  solr:
    type: str
    attr:
      - stored
  ee: EAD ID
  desc: |
    EAD ids

- key: local_id
  type: hash
  multi: false
  desc: |
    Collection of Local Identification numbers associated with the thing
  attributes:
    - key: value
      type: string
      multi: false
      ee: LocalId
      desc: |
        Primary Local Id
    - key: other
      type: string
      multi: true
      ee: Local System Number
      desc: |
        Catch all for other local identifiers

- key: syndetics_id
  type: string
  multi: true
  solr:
    type: str
    attr:
      - stored
  ee: Syndetics ISBN
  desc: |
    IDs to use for merging Syndetics data, can also be UPC for media formats
    should be multivalued to increase opportunity for matching on different ISBNs

- key: rollup_id
  type: string
  multi: false
  solr:
    type: str
    attr:
      - stored
  ee: Rollup ID


###########
# Dates
###########

- key: publication_year
  type: string
  multi: false
  solr:
    type: i
    attr:
      - stored
      - sort
  ee: PubDateSort, Publication Year
  desc: | 
    Publication Year

- key: copyright_date
  type: string
  multi: true
  ee: Copyright
  desc: |
    Copyright date

- key: cataloged_date
  type: string
  multi: false

###########
# Languages
###########

- key: lang_code
  type: string
  multi: false
  desc: |
    3 character ISO code

- key: language
  type: string
  multi: false
  desc: |
    Human readable language associated with ISO code

###########
# ISNs
###########

- key: isbn
  type: hash
  multi: false
  desc: |
    Collection of ISBNs
  attributes:
    - key: primary
      type: hash
      multi: true
      desc: |
        would usually come from 020$a
      attributes:
        - key: number
          type: string
          multi: false
          desc: |
            numeric portion only, indexed, can be used for Syndetics ID
        - key: qualifying_info
          type: string
          multi: false
          desc: |
            any other data in the field, if present combined, the parent elements create a display ISBN field
    - key: other
      type: hash
      multi: true
      desc: |
        would probably come from 020$z and/or 776$z, etc. 
      attributes:
        - key: number
          type: string
          multi: false
          desc: |
            numeric portion only, indexed
            could be used as Syndetics ID to increase probability of match, but runs risk or false match (sometimes used for incorrect ISBNs printed on an item)
        - key: qualifying_info
          type: string
          multi: false
          desc: |
            combined, the parent elements create a display ISBN field, which can always be displayed after the primary ISBNS

- key: issn
  type: hash
  multi: false
  desc: |
    Collection of ISSNs
  attributes:
    - key: primary
      type: string
      multi: true
      ee: ISSN
      desc: | 
        Primary ISSNs
    - key: linking
      type: string
      multi: true
      ee: Linking ISSN
      desc: | 
        Linking ISSNs
    - key: series
      type: string
      multi: true
      ee: Series ISSN
      desc: | 
        Series ISSNs

###########
# Publisher Information
###########
- key: publisher_number
  type: string
  multi: true
  ee: Publisher Number

- key: publisher_etc
  type: hash
  multi: true
  ee: Publisher, Distributor, Manufacturer, Producer
  attributes:
    - key: name
      type: gvo
      multi: true
    - key: type
      type: string
      multi: true

- key: imprint
  type: hash
  multi: true
  ee: Imprint, Sound Recording Imprint, Production Statement, Manufacturer Statement, Distribution Statement, Copyright Statement
  attributes:
    - key: display
      type: gvo
      multi: true
      desc: |
        value of the entire imprint field
    - key: type
      type: string
      multi: true
      desc: |
        publication, soundrecording, production, manufacturer, distribution, copyright


###########
# Authors
###########

- key: authors
  type: hash
  multi: false
  attributes:
    - key: main
      type: gvo
      multi: true
    - key: other
      type: gvo
      multi: true
    - key: director
      type: gvo
      multi: true
    - key: uncontrolled
      type: gvo
      multi: true

###########
# Title
###########

- key: title
  type: hash
  multi: false
  desc: |
    Endeca data model also has separate ee:Journal Earlier Title and ee:Journal Later Title elements
    See if anything can be done to reduce redundancy of fields mapped to journal title indexes
    No need for separate uniform_main and uniform_journal when both come from 245, etc.?
  attributes:
    - key: main
      type: gvo
      multi: false
      ee: Main Title
      desc: |
        Main title
    - key: sort
      type: string
      multi: false
      ee: Title Sort
      desc: |
         Sort version of main title
    - key: uniform
      type: hash
      multi: false
      desc: |
        Uniform titles
        Uniform Title from 730 should be mapped to: 
        - Varying Titles if indicator 2 != 2
        - Analytical title (see below) if indicator 2 = 2
      attributes:
        - key: main
          type: gvo
          multi: false
          ee: Main Uniform Title
          desc: |
            Main Uniform Title
        - key: journal
          type: gvo
          multi: false
          ee: Journal Uniform Title
          desc: |
            Main Journal Uniform Title
        - key: Collective
          type: gvo
          multi: false
          ee: Collective Uniform Title
          desc: |
            Collective Uniform Title
    - key: journal
      type: gvo
      multi: true
      ee: Journal Title Index
    - key: abbreviation
      type: gvo
      multi: true
      ee: Journal Title Abbreviation, Title Index
    - key: translation
      type: gvo
      multi: true
      ee: Other Title Translation
    - key: analytical
      type: gvo
      multi: true
      desc: |
        any 7XX controlled author field $t or 730/740 $a if and only if 2nd indicator = 2
        This means the thing described CONTAINS the title recorded -- generally only used when it's a few works combined/cataloged in one volume, so this doesn't get to the level of Tables of Contents title indexing
        These should be displayed differently (as "Also contains:" or something) and possibly weighted differently for relevance.
    - key: alternate
      type: gvo
      multi: true
      desc: |
        Some Uniform Title and Varying Titles and Other Titles should map here only when 2nd indicator != 2
    - key: earlier
      type: gvo
      multi: true
      ee: Journal Earlier Title, Earlier Title
      desc: |
        separate elements needed for proper display and possibly relevance ranking
    - key: later
      type: gvo
      multi: true
      ee: Journal Later Title, Later Title
      desc: |
        separate elements needed for proper display and possibly relevance ranking

###########
# Notes
###########

- key: notes
  type: hash
  multi: false
  attributes:
    - key: indexed
      type: string
      multi: true
    - key: serials_summary
      type: string
      multi: true
    - key: display
      type: string
      multi: true

###########
# Urls
###########

- key: url
  type: hash
  multi: true
  attributes:
    - key: href
      type: string
      multi: false
    - key: rel
      type: string
      multi: false
    - key: text
      type: string
      multi: false

###########
# Linking
###########

- key: linking
  type: hash
  multi: false
  attributes:
    - key: main_series
      type: hash
      multi: true
      attributes:
        - key: value
          type: string
          multi: false
        - key: isn
          type: string
          multi: false
    - key: subseries
      type: hash
      multi: true
      attributes:
        - key: value
          type: string
          multi: false
        - key: isn
          type: string
          multi: false
    - key: translation_of_title
      type: hash
      multi: true
      attributes:
        - key: value
          type: string
          multi: false
        - key: isn
          type: string
          multi: false
    - key: translated_as_title
      type: hash
      multi: true
      attributes:
        - key: value
          type: string
          multi: false
        - key: isn
          type: string
          multi: false
    - key: has_supplement
      type: hash
      multi: true
      attributes:
        - key: value
          type: string
          multi: false
        - key: isn
          type: string
          multi: false
    - key: supplement_to
      type: hash
      multi: true
      attributes:
        - key: value
          type: string
          multi: false
        - key: isn
          type: string
          multi: false
    - key: host_item_title
      type: hash
      multi: true
      attributes:
        - key: value
          type: string
          multi: false
        - key: isn
          type: string
          multi: false
    - key: constituent_unit_title
      type: hash
      multi: true
      attributes:
        - key: value
          type: string
          multi: false
        - key: isn
          type: string
          multi: false
    - key: added_entry
      type: hash
      multi: true
      attributes:
        - key: value
          type: string
          multi: false
        - key: isn
          type: string
          multi: false

###########
# Other
###########

- key: format
  type: string
  multi: true

- key: subjects
  type: string
  multi: true

- key: statement_of_responsibility
  type: gvo
  multi: true

- key: edition
  type: gvo
  multi: true
  ee: Edition

- key: cartographic_data
  type: string
  multi: true
  ee: Cartographic data

- key: frequency
  type: hash
  multi: false
  attributes:
    - key: current
      type: string
      multi: false
      ee: Current Frequency
    - key: former
      type: string
      multi: true
      ee: Former Frequency

- key: description
  type: hash
  multi: false
  attributes:
    - key: general
      type: string
      multi: true
      ee: Material
    - key: sound
      type: string
      multi: true
      ee: Material Details
    - key: projection
      type: string
      multi: true
      ee: Material Details
    - key: video
      type: string
      multi: true
      ee: Material Details
    - key: digital_file
      type: string
      multi: true
      ee: Material Details

- key: organization
  type: string
  multi: true

- key: volumes
  type: string
  multi: true

- key: series
  type: hash
  multi: false
  attributes:
    - key: main
      type: gvo
      multi: true
    - key: personal
      type: gvo
      multi: true
    - key: corporate
      type: gvo
      multi: true
    - key: meeting
      type: gvo
      multi: true
    - key: uniform
      type: gvo
      multi: true

- key: source_of_acquisition
  type: string
  multi: true

- key: related_collections
  type: string
  multi: true

- key: biographical_sketch
  type: string
  multi: true

- key: most_recent
  type: string
  multi: true

- key: holdings_note
  type: string
  multi: true

###########
# Items
###########

- key: items
  type: hash
  multi: true
  attributes:
    - key: barcode
      type: string
      multi: true
    - key: copy_number
      type: string
      multi: true
    - key: due_date
      type: string
      multi: true
    - key: ils_id
      type: string
      multi: true
    - key: location
      type: string
      multi: true
    - key: note
      type: string
      multi: true
    - key: checkouts
      type: string
      multi: true
    - key: call_number_tag
      type: string
      multi: true
    - key: classification_number
      type: string
      multi: true
    - key: status
      type: string
      multi: true
    - key: type
      type: string
      multi: true
    - key: volume
      type: string
      multi: true